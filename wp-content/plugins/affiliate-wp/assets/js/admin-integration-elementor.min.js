function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function ownKeys(e,r){var o,t=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)),t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return("string"===r?String:Number)(t);e=e.call(t,r||"default");if("object"!=_typeof(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}jQuery(window).on("elementor:init",function(){var AffiliateWPIntegration,ReferralFieldsMap;jQuery,AffiliateWPIntegration={fields:AffiliateWPElementor.fields,referralFields:AffiliateWPReferralFields.fields,getName:function(){return"affiliatewp"},onElementChange:function(setting){setting.includes("affiliatewp")&&(this.updateFieldsMap(),this.updateReferralFieldsMap())},onSectionActive:function(){this.updateFieldsMap(),this.updateReferralFieldsMap()},updateFieldsMap:function(){this.getEditorControlView("affiliatewp_fields_map").updateMap()},updateReferralFieldsMap:function(){this.getEditorControlView("affiliatewp_referral_fields_map").updateMap()}},ReferralFieldsMap={onBeforeRender:function(){this.$el.hide()},updateMap:function(){var _this3=this,savedMapObject={};this.collection.each(function(model){savedMapObject[model.get("remote_id")]=model.get("local_id")}),this.collection.reset(),this.getFieldOptions().forEach(function(option,index){option={remote_id:option.remote_id,remote_label:option.remote_label,remote_type:option.remote_type||"",remote_required:option.remote_required||!1,local_id:savedMapObject[option.remote_id]||""};_this3.collection.add(option)}),this.render()},getFieldOptions:function(){return elementorPro.modules.forms.affiliatewp.referralFields},onRender:function(){var _this4=this;this.children.each(function(view,index){var fields=_this4.elementSettingsModel.get("form_fields").models,options={},fields=(options[""]="- ".concat(elementor.translate("None")," -"),fields.forEach(function(field){var remoteType=view.model.get("remote_type");"text"!==remoteType&&remoteType!==field.get("field_type")||(options[field.get("custom_id")]=field.get("field_label"))}),view.children.last()),label=view.model.get("remote_label");view.model.get("remote_required")&&(label+='<span class="elementor-required">*</span>'),fields.model.set("label",label),fields.model.set("options",options),fields.render(),view.$el.find(".elementor-repeater-row-tools").hide(),view.$el.find(".elementor-repeater-row-controls").removeClass("elementor-repeater-row-controls").find(".elementor-control").css({padding:"10px 0"})}),this.children.length&&this.$el.show(),this.$el.find(".elementor-button-wrapper").remove()}},elementor.addControlView("affiliatewp_fields_map",elementor.modules.controls.Fields_map.extend({onBeforeRender:function(){this.$el.hide()},updateMap:function(){var _this=this,savedMapObject={};this.collection.each(function(model){savedMapObject[model.get("remote_id")]=model.get("local_id")}),this.collection.reset(),this.getFieldOptions().forEach(function(option,index){option={remote_id:option.remote_id,remote_label:option.remote_label,remote_type:option.remote_type||"",remote_required:option.remote_required||!1,local_id:savedMapObject[option.remote_id]||""};_this.collection.add(option)}),this.render()},getFieldOptions:function(){return elementorPro.modules.forms.affiliatewp.fields},onRender:function(){var _this2=this;this.children.each(function(view,index){var fields=_this2.elementSettingsModel.get("form_fields").models,options={},fields=(options[""]="- ".concat(elementor.translate("None")," -"),fields.forEach(function(field){var remoteType=view.model.get("remote_type");"text"!==remoteType&&remoteType!==field.get("field_type")||(remoteType=field.get("custom_id"),field=field.get("field_label"),options[remoteType]=field)}),view.children.last()),label=view.model.get("remote_label");view.model.get("remote_required")&&(label+='<span class="elementor-required">*</span>'),fields.model.set("label",label),fields.model.set("options",options),fields.render(),view.$el.find(".elementor-repeater-row-tools").hide(),view.$el.find(".elementor-repeater-row-controls").removeClass("elementor-repeater-row-controls").find(".elementor-control").css({padding:"10px 0"})}),this.children.length&&this.$el.show(),this.$el.find(".elementor-button-wrapper").remove()}})),elementor.addControlView("affiliatewp_referral_fields_map",elementor.modules.controls.Fields_map.extend(ReferralFieldsMap)),elementorPro.modules.forms.affiliatewp=_objectSpread(_objectSpread({},elementorPro.modules.forms.activecampaign),AffiliateWPIntegration),elementorPro.modules.forms.affiliatewp.addSectionListener("section_affiliatewp",function(){elementorPro.modules.forms.affiliatewp.onSectionActive()})});